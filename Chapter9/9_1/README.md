# 服务端：select实现IO复用
## 程序功能
通过`select`函数对文件描述符进行监听，如果发生IO事件通过内核告诉程序，程序对不同类型的事件进行处理，实现了同时阻塞监听多种事件的效果

## 实现过程
使用`unordered_set`保存监听的文件描述符，使用`unordered_map`保存文件描述符对应的地址信息用于日志输出
在对关联容器进行遍历删除的时候需要注意，插入删除操作会导致指向该元素的迭代器失效，其他元素迭代器不受影响（与顺序容器不同，顺序容器会导致该迭代器和后面的迭代器失效）
因此在遍历中进行删除时需要在删除前将迭代器后移，否则删除后迭代器失效无法进行移动
```cpp
if (condition)
    fdset.erase(cfd++);
else
    ++cfd;
```
因为处理删除时必须进行后移操作，因此需要将循环的后移放到逻辑判断中，根据是否进行删除选择是在删除时后移还是最后后移。
当时程序就是因为忘记在没有进行删除时后移导致死循环，这里的处理挺细节，需要注意

## 实现结果
实现了一个简单的IO多路复用反射服务器，并将信息在日志中记录